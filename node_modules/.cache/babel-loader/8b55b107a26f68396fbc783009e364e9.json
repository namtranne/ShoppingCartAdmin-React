{"ast":null,"code":"var _jsxFileName = \"/Users/tranhainam/Downloads/ReactMultiPageWebsite-master/src/components/UserForm.js\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport avatar from \"./../images/default-user.png\";\nimport { useParams } from \"react-router-dom\";\nimport { toHaveFormValues } from \"@testing-library/jest-dom\";\nimport { HiBars3BottomLeft } from \"react-icons/hi2\";\nexport const UserForm = () => {\n  const params = useParams();\n  const [Roles, setRoles] = useState([]);\n  const [email, setEmail] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [roles, setUserRoles] = useState([]);\n  const [enabled, setEnabled] = useState(null);\n  const [password, setPassword] = useState(\"\");\n  const [user, setUser] = useState();\n\n  const handleRoleChange = (role, event) => {\n    console.log(event.target); // let checked = event.target.checked;\n    // if (checked) {\n    //   setUserRoles([...roles].filter((element) => element !== role));\n    // } else {\n    //   setUserRoles([...roles, role]);\n    // }\n  };\n\n  const hasRole = role => {\n    var check = false;\n    roles.forEach(element => {\n      console.log(element.id, role.id);\n\n      if (element.id == role.id) {\n        check = true;\n      }\n    });\n    return check;\n  };\n\n  useEffect(() => {\n    fetch(\"http://localhost:8082/ShoppingCartAdmin/role/getAll\").then(res => res.json()).then(result => {\n      setRoles(result);\n    });\n\n    if (params.id) {\n      fetch(\"http://localhost:8082/ShoppingCartAdmin/user/get/\" + params.id).then(res => res.json()).then(result => {\n        setUser(result);\n        setEmail(result.email);\n        setFirstName(result.firstName);\n        setLastName(result.lastName);\n        setEnabled(result.enabled);\n        setPassword(result.password);\n        setUserRoles(result.roles);\n      });\n    }\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(\"button\", {\n    onClick: () => {\n      console.log(roles);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Click\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Manage Users - Create new User\")), React.createElement(\"form\", {\n    action: \"\",\n    method: \"post\",\n    style: {\n      maxWidth: \"700px\",\n      margin: \"0 auto\"\n    } //   style=\"max-wid 700px; margin: 0 auto;\"\n    //   object=\"${user}\"\n    //   enctype=\"multipart/form-data\"\n    //   onsubmit=\"return checkEmailUnique(this);\"\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"hidden\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"border border-secondary rounded p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"\",\n    className: \"col-sm-4 col-form-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"E-mail:\"), React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    required: true,\n    minLength: \"8\",\n    maxLength: \"128\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"\",\n    className: \"col-sm-4 col-form-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"First Name:\"), React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    required: true,\n    minLength: \"2\",\n    maxLength: \"45\",\n    value: firstName,\n    onChange: e => setFirstName(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"\",\n    className: \"col-sm-4 col-form-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Last Name:\"), React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    required: true,\n    minLength: \"2\",\n    maxLength: \"45\",\n    value: lastName,\n    onChange: e => setLastName(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"\",\n    className: \"col-sm-4 col-form-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"Password:\"), React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"col-sm-4 col-form-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"Roles: \"), React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, Roles.map((role, index) => {\n    return React.createElement(\"div\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      text: role.name,\n      value: role.id,\n      checked: hasRole(role),\n      onChange: event => handleRoleChange(role, event),\n      className: \"m-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), \"- \", React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, role.description), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }));\n  }))), React.createElement(\"div\", {\n    className: \"form-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"\",\n    className: \"col-sm-4 col-form label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, \"Enabled:\"), React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"checkbox\",\n    defaultChecked: enabled,\n    onChange: e => setEnabled(!enabled),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"\",\n    className: \"col-sm-4 col-form-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, \"Photos:\", \" \"), React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"file\",\n    id: \"fileImage\",\n    name: \"image\",\n    accept: \"image/png, image/jpg\",\n    className: \"mb-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    src: avatar,\n    alt: \"Photos Review\",\n    id: \"thumbmail\",\n    className: \"img-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Save\",\n    className: \"btn btn-primary m-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"button\",\n    value: \"Cancel\",\n    className: \"btn btn-secondary\",\n    id: \"buttonCancel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  })))));\n};","map":{"version":3,"sources":["/Users/tranhainam/Downloads/ReactMultiPageWebsite-master/src/components/UserForm.js"],"names":["React","useState","useEffect","avatar","useParams","toHaveFormValues","HiBars3BottomLeft","UserForm","params","Roles","setRoles","email","setEmail","firstName","setFirstName","lastName","setLastName","roles","setUserRoles","enabled","setEnabled","password","setPassword","user","setUser","handleRoleChange","role","event","console","log","target","hasRole","check","forEach","element","id","fetch","then","res","json","result","maxWidth","margin","e","value","map","index","name","description"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport avatar from \"./../images/default-user.png\";\nimport { useParams } from \"react-router-dom\";\nimport { toHaveFormValues } from \"@testing-library/jest-dom\";\nimport { HiBars3BottomLeft } from \"react-icons/hi2\";\nexport const UserForm = () => {\n  const params = useParams();\n  const [Roles, setRoles] = useState([]);\n  const [email, setEmail] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [roles, setUserRoles] = useState([]);\n  const [enabled, setEnabled] = useState(null);\n  const [password, setPassword] = useState(\"\");\n  const [user, setUser] = useState();\n  const handleRoleChange = (role, event) => {\n    console.log(event.target);\n    // let checked = event.target.checked;\n    // if (checked) {\n    //   setUserRoles([...roles].filter((element) => element !== role));\n    // } else {\n    //   setUserRoles([...roles, role]);\n    // }\n  };\n  const hasRole = (role) => {\n    var check = false;\n    roles.forEach((element) => {\n      console.log(element.id, role.id);\n      if (element.id == role.id) {\n        check = true;\n      }\n    });\n    return check;\n  };\n  useEffect(() => {\n    fetch(\"http://localhost:8082/ShoppingCartAdmin/role/getAll\")\n      .then((res) => res.json())\n      .then((result) => {\n        setRoles(result);\n      });\n    if (params.id) {\n      fetch(\"http://localhost:8082/ShoppingCartAdmin/user/get/\" + params.id)\n        .then((res) => res.json())\n        .then((result) => {\n          setUser(result);\n          setEmail(result.email);\n          setFirstName(result.firstName);\n          setLastName(result.lastName);\n          setEnabled(result.enabled);\n          setPassword(result.password);\n          setUserRoles(result.roles);\n        });\n    }\n  }, []);\n  return (\n    <>\n      <button\n        onClick={() => {\n          console.log(roles);\n        }}\n      >\n        Click\n      </button>\n      <div>\n        <h2 className=\"text-center\">Manage Users - Create new User</h2>\n      </div>\n      <form\n        action=\"\"\n        method=\"post\"\n        style={{ maxWidth: \"700px\", margin: \"0 auto\" }}\n        //   style=\"max-wid 700px; margin: 0 auto;\"\n        //   object=\"${user}\"\n        //   enctype=\"multipart/form-data\"\n        //   onsubmit=\"return checkEmailUnique(this);\"\n      >\n        <input type=\"hidden\" />\n        <div className=\"border border-secondary rounded p-3\">\n          <div className=\"form-group row\">\n            <label htmlFor=\"\" className=\"col-sm-4 col-form-label\">\n              E-mail:\n            </label>\n            <div className=\"col-sm-8\">\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                required\n                minLength=\"8\"\n                maxLength=\"128\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <div className=\"form-group row\">\n            <label htmlFor=\"\" className=\"col-sm-4 col-form-label\">\n              First Name:\n            </label>\n            <div className=\"col-sm-8\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                required\n                minLength=\"2\"\n                maxLength=\"45\"\n                value={firstName}\n                onChange={(e) => setFirstName(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <div className=\"form-group row\">\n            <label htmlFor=\"\" className=\"col-sm-4 col-form-label\">\n              Last Name:\n            </label>\n            <div className=\"col-sm-8\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                required\n                minLength=\"2\"\n                maxLength=\"45\"\n                value={lastName}\n                onChange={(e) => setLastName(e.target.value)}\n              />\n            </div>\n          </div>\n          <div className=\"form-group row\">\n            <label htmlFor=\"\" className=\"col-sm-4 col-form-label\">\n              Password:\n            </label>\n            <div className=\"col-sm-8\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <div className=\"form-group row\">\n            <label className=\"col-sm-4 col-form-label\">Roles: </label>\n            <div className=\"col-sm-8\">\n              {Roles.map((role, index) => {\n                return (\n                  <div key={index}>\n                    <input\n                      type=\"checkbox\"\n                      text={role.name}\n                      value={role.id}\n                      checked={hasRole(role)}\n                      onChange={(event) => handleRoleChange(role, event)}\n                      className=\"m-2\"\n                    />\n                    - <small>{role.description}</small>\n                    <br />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n\n          <div className=\"form-group row\">\n            <label htmlFor=\"\" className=\"col-sm-4 col-form label\">\n              Enabled:\n            </label>\n            <div className=\"col-sm-8\">\n              <input\n                type=\"checkbox\"\n                defaultChecked={enabled}\n                onChange={(e) => setEnabled(!enabled)}\n              />\n            </div>\n          </div>\n\n          <div className=\"form-group row\">\n            <label htmlFor=\"\" className=\"col-sm-4 col-form-label\">\n              Photos:{\" \"}\n            </label>\n            <div className=\"col-sm-8\">\n              {/* <input type=\"hidden\" field=\"*{photos}\" /> */}\n              <input\n                type=\"file\"\n                id=\"fileImage\"\n                name=\"image\"\n                accept=\"image/png, image/jpg\"\n                className=\"mb-2\"\n              />\n              <img\n                src={avatar}\n                alt=\"Photos Review\"\n                id=\"thumbmail\"\n                className=\"img-fluid\"\n              />\n            </div>\n          </div>\n          <div className=\"text-center\">\n            <input type=\"submit\" value=\"Save\" className=\"btn btn-primary m-3\" />\n            <input\n              type=\"button\"\n              value=\"Cancel\"\n              className=\"btn btn-secondary\"\n              id=\"buttonCancel\"\n            />\n          </div>\n        </div>\n      </form>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}