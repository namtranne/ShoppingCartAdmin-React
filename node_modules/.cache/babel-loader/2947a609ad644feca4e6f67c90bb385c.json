{"ast":null,"code":"var _jsxFileName = \"/Users/tranhainam/Downloads/ReactMultiPageWebsite-master/src/components/Categories.js\";\nimport { useState, useEffect } from \"react\";\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBowlFood } from \"@fortawesome/free-solid-svg-icons\";\nimport { useLocation } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport { faCheckCircle, faFilePen, faXmark, faSortAmountUp, faSortAmountDown, faFileCsv, faFilePdf, faFileExcel } from \"@fortawesome/free-solid-svg-icons\";\nexport const Categories = () => {\n  const navigate = useNavigate();\n  const [categories, setCategories] = useState([]);\n  useEffect(() => {\n    updateCategories();\n    navigate(window.location.pathname, {});\n    onClickHandler();\n  }, []);\n  const {\n    state\n  } = useLocation();\n  const [image, setImage] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [filter, setFilter] = useState(\"\");\n  const categoryPerPage = 4;\n  const totalPage = categories.length / categoryPerPage - Math.floor(categories.length / categoryPerPage) === 0 ? categories.length / categoryPerPage : Math.floor(categories.length / categoryPerPage) + 1;\n  const [message, setMessage] = useState(state && state.message ? state.message.message : \"\");\n  const [isAsc, setIsAsc] = useState(true);\n  const [sortField, setSortField] = useState(\"\"); //load data\n\n  const onClickHandler = async () => {\n    const result = await fetch(\"http://localhost:8082/category/loadImage/2\", {\n      mode: \"no-cors\" // 'cors' by default\n\n    });\n    const blob = await result.blob();\n    const url = URL.createObjectURL(blob);\n    setImage(url);\n    console.log(url);\n  }; //update data\n\n\n  const updateCategories = () => {\n    fetch(\"http://localhost:8082/ShoppingCartAdmin/category/getAll\").then(res => res.json()).then(result => {\n      setCategories(result);\n    });\n  }; //delete category\n\n\n  const handleDelete = id => {\n    fetch(\"http://localhost:8082/ShoppingCartAdmin/category/delete/\" + id, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(result => {\n      setMessage(result.message);\n    }).then(updateCategories);\n  }; //enable/disable category\n\n\n  const handleEnable = (id, bool) => {\n    fetch(\"http://localhost:8082/ShoppingCartAdmin/category/\" + id + \"/enabled/\" + bool, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(result => setMessage(result.message)).then(() => {\n      updateCategories();\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"img\", {\n    src: image ? image : null,\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Manage Categories - View All\")), message !== \"\" ? React.createElement(\"div\", {\n    className: \"alert alert-success text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, message) : null, React.createElement(InputGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(Form.Control, {\n    className: \"col-sm-2\",\n    placeholder: \"Search Key\",\n    \"aria-label\": \"Recipient's username with two button addons\",\n    value: filter,\n    onChange: e => {\n      setFilter(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"outline-secondary\",\n    className: \"bg-danger text-light\",\n    onClick: () => {\n      setFilter(\"\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"Clear\")), React.createElement(\"a\", {\n    href: \"http://localhost:8082/ShoppingCartAdmin/categories/export/csv\",\n    style: {\n      margin: \"0 5px 0 5px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faFileCsv,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  })), React.createElement(\"a\", {\n    href: \"http://localhost:8082/ShoppingCartAdmin/categories/export/pdf\",\n    style: {\n      margin: \"0 5px 0 5px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faFilePdf,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  })), React.createElement(\"a\", {\n    href: \"http://localhost:8082/ShoppingCartAdmin/categories/export/excel\",\n    style: {\n      margin: \"0 5px 0 5px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faFileExcel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"full-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"table table-bordered table-striped table-hover table-reponsive-xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    className: \"thead-dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    className: \"hideable-column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"text-white\",\n    onClick: () => {\n      if (isAsc && sortField === \"id\" || !isAsc && sortField !== \"id\") {\n        setIsAsc(false);\n        setSortField(\"id\");\n        setCategories([...categories].sort((a, b) => a.id > b.id ? -1 : 1));\n      } else if (!isAsc && sortField === \"id\" || isAsc && sortField !== \"id\") {\n        setIsAsc(true);\n        setSortField(\"id\");\n        setCategories([...categories].sort((a, b) => a.id > b.id ? 1 : -1));\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"Category ID\"), sortField === \"id\" && isAsc === true ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faSortAmountUp,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  })) : sortField === \"id\" && !isAsc ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faSortAmountDown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  })) : null), React.createElement(\"th\", {\n    className: \"hideable-column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, \"Image\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"text-white\",\n    onClick: () => {\n      if (isAsc && sortField === \"name\" || !isAsc && sortField !== \"name\") {\n        setIsAsc(false);\n        setSortField(\"name\");\n        setCategories([...categories].sort((a, b) => a.name > b.name ? -1 : 1));\n      } else if (!isAsc && sortField === \"name\" || isAsc && sortField !== \"name\") {\n        setIsAsc(true);\n        setSortField(\"name\");\n        setCategories([...categories].sort((a, b) => a.name > b.name ? 1 : -1));\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, \"Category Name\"), sortField === \"name\" && isAsc === true ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faSortAmountUp,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  })) : sortField === \"name\" && !isAsc ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faSortAmountDown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  })) : null), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"text-white\",\n    onClick: () => {\n      if (isAsc && sortField === \"alias\" || !isAsc && sortField !== \"alias\") {\n        setIsAsc(false);\n        setSortField(\"alias\");\n        setCategories([...categories].sort((a, b) => a.alias > b.alias ? -1 : 1));\n      } else if (!isAsc && sortField === \"alias\" || isAsc && sortField !== \"alias\") {\n        setIsAsc(true);\n        setSortField(\"alias\");\n        setCategories([...categories].sort((a, b) => a.alias > b.alias ? 1 : -1));\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  }, \"Alias\"), sortField === \"alias\" && isAsc === true ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faSortAmountUp,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263\n    },\n    __self: this\n  })) : sortField === \"alias\" && !isAsc ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faSortAmountDown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267\n    },\n    __self: this\n  })) : null), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"text-white\",\n    onClick: () => {\n      if (isAsc && sortField === \"enable\" || !isAsc && sortField !== \"enable\") {\n        setIsAsc(false);\n        setSortField(\"enable\");\n        setCategories([...categories].sort((a, b) => a.enable > b.enable ? -1 : 1));\n      } else if (!isAsc && sortField === \"enable\" || isAsc && sortField !== \"enable\") {\n        setIsAsc(true);\n        setSortField(\"enable\");\n        setCategories([...categories].sort((a, b) => a.enable > b.enable ? 1 : -1));\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }, \"Enable\"), sortField === \"enable\" && isAsc === true ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faSortAmountUp,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  })) : sortField === \"enable\" && !isAsc ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faSortAmountDown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308\n    },\n    __self: this\n  })) : null), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313\n    },\n    __self: this\n  }, \"Edit\")), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316\n    },\n    __self: this\n  }, \"Delete\")))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }, categories.filter(category => category.id.toString().includes(filter) || category.name.includes(filter) || category.alias.includes(filter)).map((category, index) => {\n    return React.createElement(\"tr\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"hideable-column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, category.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"fa fa-portait fa-3x icon-silver\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faBowlFood,\n      color: \"grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      className: \"hideable-column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, category.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, category.alias), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, category.enabled ? React.createElement(\"span\", {\n      onClick: () => {\n        handleEnable(category.id, false);\n      },\n      tittle: \"'Disable this ' + 'category'\",\n      className: \"fas fa-check-circle fa-2x icon-green\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faCheckCircle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    })) : React.createElement(\"span\", {\n      onClick: () => {\n        handleEnable(category.id, true);\n      } //   th:if=\"${category.enabled === false}\"\n      //   th:href=\"@{'/categorys/' + ${category.id} + '/enabled/true'}\"\n      //   th:tittle=\"'Enabled this ' + 'category'\"\n      ,\n      className: \"fas fa-circle fa-2x icon-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faCheckCircle,\n      color: \"grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    })))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/category/update/\" + category.id // th:tittle=\"'Edit this' + 'category'\"\n      ,\n      className: \"fas fa-edit fa-2x icon-green\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faFilePen,\n      color: \"grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      onClick: () => handleDelete(category.id) // th:href=\"@{'/category/delete/' + ${category.id}}\"\n      // th:entityId=\"${category.id}\"\n      // th:tittle=\"'Delete this' + 'category'\"\n      ,\n      className: \"fas fa-trash fa-2x icon-dark link-delete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faXmark,\n      color: \"grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }))));\n  })))), React.createElement(\"nav\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"pagination justify-content-center flex-wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: currentPage > 1 ? \"page-item active\" : \"page-item disabled\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => {\n      setCurrentPage(1);\n    },\n    className: \"page-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408\n    },\n    __self: this\n  }, \"First\")), React.createElement(\"li\", {\n    className: currentPage > 1 ? \"page-item active\" : \"page-item disabled\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => {\n      if (currentPage > 1) {\n        setCurrentPage(currentPage - 1);\n      }\n    },\n    className: \"page-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422\n    },\n    __self: this\n  }, \"Previous\")), Array(totalPage).fill(null).map((item, index) => {\n    if (index + 1 == currentPage) {\n      return React.createElement(\"div\", {\n        key: index,\n        className: \"page-item active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"\",\n        className: \"page-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, index + 1));\n    } else {\n      return React.createElement(\"div\", {\n        key: index,\n        className: \"page-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => {\n          setCurrentPage(index + 1);\n        },\n        className: \"page-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }, index + 1));\n    }\n  }), React.createElement(\"li\", {\n    className: currentPage < totalPage ? \"page-item active\" : \"page-item disabled\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => {\n      if (currentPage < totalPage) {\n        setCurrentPage(currentPage + 1);\n      }\n    },\n    className: \"page-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466\n    },\n    __self: this\n  }, \"Next\")), React.createElement(\"li\", {\n    className: currentPage < totalPage ? \"page-item active\" : \"page-item disabled\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => {\n      setCurrentPage(totalPage);\n    },\n    className: \"page-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485\n    },\n    __self: this\n  }, \"Last\")))));\n};","map":{"version":3,"sources":["/Users/tranhainam/Downloads/ReactMultiPageWebsite-master/src/components/Categories.js"],"names":["useState","useEffect","React","FontAwesomeIcon","faBowlFood","useLocation","useNavigate","Button","Form","InputGroup","faCheckCircle","faFilePen","faXmark","faSortAmountUp","faSortAmountDown","faFileCsv","faFilePdf","faFileExcel","Categories","navigate","categories","setCategories","updateCategories","window","location","pathname","onClickHandler","state","image","setImage","currentPage","setCurrentPage","filter","setFilter","categoryPerPage","totalPage","length","Math","floor","message","setMessage","isAsc","setIsAsc","sortField","setSortField","result","fetch","mode","blob","url","URL","createObjectURL","console","log","then","res","json","handleDelete","id","method","headers","handleEnable","bool","e","target","value","margin","sort","a","b","name","alias","enable","category","toString","includes","map","index","enabled","Array","fill","item"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,UAAT,QAA2B,mCAA3B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,SACEC,aADF,EAEEC,SAFF,EAGEC,OAHF,EAIEC,cAJF,EAKEC,gBALF,EAMEC,SANF,EAOEC,SAPF,EAQEC,WARF,QASO,mCATP;AAUA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAC9B,QAAMC,QAAQ,GAAGb,WAAW,EAA5B;AACA,QAAM,CAACc,UAAD,EAAaC,aAAb,IAA8BrB,QAAQ,CAAC,EAAD,CAA5C;AACAC,EAAAA,SAAS,CAAC,MAAM;AACdqB,IAAAA,gBAAgB;AAChBH,IAAAA,QAAQ,CAACI,MAAM,CAACC,QAAP,CAAgBC,QAAjB,EAA2B,EAA3B,CAAR;AACAC,IAAAA,cAAc;AACf,GAJQ,EAIN,EAJM,CAAT;AAMA,QAAM;AAAEC,IAAAA;AAAF,MAAYtB,WAAW,EAA7B;AAEA,QAAM,CAACuB,KAAD,EAAQC,QAAR,IAAoB7B,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAAC8B,WAAD,EAAcC,cAAd,IAAgC/B,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACgC,MAAD,EAASC,SAAT,IAAsBjC,QAAQ,CAAC,EAAD,CAApC;AACA,QAAMkC,eAAe,GAAG,CAAxB;AACA,QAAMC,SAAS,GACbf,UAAU,CAACgB,MAAX,GAAoBF,eAApB,GACEG,IAAI,CAACC,KAAL,CAAWlB,UAAU,CAACgB,MAAX,GAAoBF,eAA/B,CADF,KAEA,CAFA,GAGId,UAAU,CAACgB,MAAX,GAAoBF,eAHxB,GAIIG,IAAI,CAACC,KAAL,CAAWlB,UAAU,CAACgB,MAAX,GAAoBF,eAA/B,IAAkD,CALxD;AAMA,QAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBxC,QAAQ,CACpC2B,KAAK,IAAIA,KAAK,CAACY,OAAf,GAAyBZ,KAAK,CAACY,OAAN,CAAcA,OAAvC,GAAiD,EADb,CAAtC;AAGA,QAAM,CAACE,KAAD,EAAQC,QAAR,IAAoB1C,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAAC2C,SAAD,EAAYC,YAAZ,IAA4B5C,QAAQ,CAAC,EAAD,CAA1C,CAzB8B,CA2B9B;;AAEA,QAAM0B,cAAc,GAAG,YAAY;AACjC,UAAMmB,MAAM,GAAG,MAAMC,KAAK,CAAC,4CAAD,EAA+C;AACvEC,MAAAA,IAAI,EAAE,SADiE,CACtD;;AADsD,KAA/C,CAA1B;AAGA,UAAMC,IAAI,GAAG,MAAMH,MAAM,CAACG,IAAP,EAAnB;AACA,UAAMC,GAAG,GAAGC,GAAG,CAACC,eAAJ,CAAoBH,IAApB,CAAZ;AACAnB,IAAAA,QAAQ,CAACoB,GAAD,CAAR;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACD,GARD,CA7B8B,CAuC9B;;;AACA,QAAM3B,gBAAgB,GAAG,MAAM;AAC7BwB,IAAAA,KAAK,CAAC,yDAAD,CAAL,CACGQ,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAEST,MAAD,IAAY;AAChBxB,MAAAA,aAAa,CAACwB,MAAD,CAAb;AACD,KAJH;AAKD,GAND,CAxC8B,CAgD9B;;;AACA,QAAMY,YAAY,GAAIC,EAAD,IAAQ;AAC3BZ,IAAAA,KAAK,CAAC,6DAA6DY,EAA9D,EAAkE;AACrEC,MAAAA,MAAM,EAAE,KAD6D;AAErEC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAF4D,KAAlE,CAAL,CAIGN,IAJH,CAISC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAJjB,EAKGF,IALH,CAKST,MAAD,IAAY;AAChBL,MAAAA,UAAU,CAACK,MAAM,CAACN,OAAR,CAAV;AACD,KAPH,EAQGe,IARH,CAQQhC,gBARR;AASD,GAVD,CAjD8B,CA4D9B;;;AACA,QAAMuC,YAAY,GAAG,CAACH,EAAD,EAAKI,IAAL,KAAc;AACjChB,IAAAA,KAAK,CACH,sDACEY,EADF,GAEE,WAFF,GAGEI,IAJC,EAKH;AACEH,MAAAA,MAAM,EAAE,KADV;AAEEC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAFX,KALG,CAAL,CAUGN,IAVH,CAUSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAVjB,EAWGF,IAXH,CAWST,MAAD,IAAYL,UAAU,CAACK,MAAM,CAACN,OAAR,CAX9B,EAYGe,IAZH,CAYQ,MAAM;AACVhC,MAAAA,gBAAgB;AACjB,KAdH;AAeD,GAhBD;;AAkBA,SACE,0CACE;AAAK,IAAA,GAAG,EAAEM,KAAK,GAAGA,KAAH,GAAW,IAA1B;AAAgC,IAAA,GAAG,EAAC,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADF,CAFF,EAKGW,OAAO,KAAK,EAAZ,GACC;AAAK,IAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAkDA,OAAlD,CADD,GAEG,IAPN,EAQE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD,CAAM,OAAN;AACE,IAAA,SAAS,EAAC,UADZ;AAEE,IAAA,WAAW,EAAC,YAFd;AAGE,kBAAW,6CAHb;AAIE,IAAA,KAAK,EAAEP,MAJT;AAKE,IAAA,QAAQ,EAAG+B,CAAD,IAAO;AACf9B,MAAAA,SAAS,CAAC8B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAUE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAC,mBADV;AAEE,IAAA,SAAS,EAAC,sBAFZ;AAGE,IAAA,OAAO,EAAE,MAAM;AACbhC,MAAAA,SAAS,CAAC,EAAD,CAAT;AACD,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAVF,CARF,EA4BE;AACE,IAAA,IAAI,EAAC,+DADP;AAEE,IAAA,KAAK,EAAE;AAAEiC,MAAAA,MAAM,EAAE;AAAV,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAEnD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CA5BF,EAkCE;AACE,IAAA,IAAI,EAAC,+DADP;AAEE,IAAA,KAAK,EAAE;AAAEmD,MAAAA,MAAM,EAAE;AAAV,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAElD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAlCF,EAwCE;AACE,IAAA,IAAI,EAAC,iEADP;AAEE,IAAA,KAAK,EAAE;AAAEkD,MAAAA,MAAM,EAAE;AAAV,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAEjD,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAxCF,EA8CE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,SAAS,EAAC,mEAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,IAAA,OAAO,EAAE,MAAM;AACb,UACGwB,KAAK,IAAIE,SAAS,KAAK,IAAxB,IACC,CAACF,KAAD,IAAUE,SAAS,KAAK,IAF3B,EAGE;AACAD,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACAE,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACAvB,QAAAA,aAAa,CACX,CAAC,GAAGD,UAAJ,EAAgB+C,IAAhB,CAAqB,CAACC,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACV,EAAF,GAAOW,CAAC,CAACX,EAAT,GAAc,CAAC,CAAf,GAAmB,CAAnD,CADW,CAAb;AAGD,OATD,MASO,IACJ,CAACjB,KAAD,IAAUE,SAAS,KAAK,IAAzB,IACCF,KAAK,IAAIE,SAAS,KAAK,IAFnB,EAGL;AACAD,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACAE,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACAvB,QAAAA,aAAa,CACX,CAAC,GAAGD,UAAJ,EAAgB+C,IAAhB,CAAqB,CAACC,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACV,EAAF,GAAOW,CAAC,CAACX,EAAT,GAAc,CAAd,GAAkB,CAAC,CAAnD,CADW,CAAb;AAGD;AACF,KAtBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EA2BGf,SAAS,KAAK,IAAd,IAAsBF,KAAK,KAAK,IAAhC,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE5B,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,GAIG8B,SAAS,KAAK,IAAd,IAAsB,CAACF,KAAvB,GACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE3B,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADE,GAIA,IAnCN,CADF,EAsCE;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAtCF,EAuCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,IAAA,OAAO,EAAE,MAAM;AACb,UACG2B,KAAK,IAAIE,SAAS,KAAK,MAAxB,IACC,CAACF,KAAD,IAAUE,SAAS,KAAK,MAF3B,EAGE;AACAD,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACAE,QAAAA,YAAY,CAAC,MAAD,CAAZ;AACAvB,QAAAA,aAAa,CACX,CAAC,GAAGD,UAAJ,EAAgB+C,IAAhB,CAAqB,CAACC,CAAD,EAAIC,CAAJ,KACnBD,CAAC,CAACE,IAAF,GAASD,CAAC,CAACC,IAAX,GAAkB,CAAC,CAAnB,GAAuB,CADzB,CADW,CAAb;AAKD,OAXD,MAWO,IACJ,CAAC7B,KAAD,IAAUE,SAAS,KAAK,MAAzB,IACCF,KAAK,IAAIE,SAAS,KAAK,MAFnB,EAGL;AACAD,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACAE,QAAAA,YAAY,CAAC,MAAD,CAAZ;AACAvB,QAAAA,aAAa,CACX,CAAC,GAAGD,UAAJ,EAAgB+C,IAAhB,CAAqB,CAACC,CAAD,EAAIC,CAAJ,KACnBD,CAAC,CAACE,IAAF,GAASD,CAAC,CAACC,IAAX,GAAkB,CAAlB,GAAsB,CAAC,CADzB,CADW,CAAb;AAKD;AACF,KA1BH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EA+BG3B,SAAS,KAAK,MAAd,IAAwBF,KAAK,KAAK,IAAlC,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE5B,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,GAIG8B,SAAS,KAAK,MAAd,IAAwB,CAACF,KAAzB,GACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE3B,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADE,GAIA,IAvCN,CAvCF,EAiFE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,IAAA,OAAO,EAAE,MAAM;AACb,UACG2B,KAAK,IAAIE,SAAS,KAAK,OAAxB,IACC,CAACF,KAAD,IAAUE,SAAS,KAAK,OAF3B,EAGE;AACAD,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACAE,QAAAA,YAAY,CAAC,OAAD,CAAZ;AACAvB,QAAAA,aAAa,CACX,CAAC,GAAGD,UAAJ,EAAgB+C,IAAhB,CAAqB,CAACC,CAAD,EAAIC,CAAJ,KACnBD,CAAC,CAACG,KAAF,GAAUF,CAAC,CAACE,KAAZ,GAAoB,CAAC,CAArB,GAAyB,CAD3B,CADW,CAAb;AAKD,OAXD,MAWO,IACJ,CAAC9B,KAAD,IAAUE,SAAS,KAAK,OAAzB,IACCF,KAAK,IAAIE,SAAS,KAAK,OAFnB,EAGL;AACAD,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACAE,QAAAA,YAAY,CAAC,OAAD,CAAZ;AACAvB,QAAAA,aAAa,CACX,CAAC,GAAGD,UAAJ,EAAgB+C,IAAhB,CAAqB,CAACC,CAAD,EAAIC,CAAJ,KACnBD,CAAC,CAACG,KAAF,GAAUF,CAAC,CAACE,KAAZ,GAAoB,CAApB,GAAwB,CAAC,CAD3B,CADW,CAAb;AAKD;AACF,KA1BH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EA+BG5B,SAAS,KAAK,OAAd,IAAyBF,KAAK,KAAK,IAAnC,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE5B,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,GAIG8B,SAAS,KAAK,OAAd,IAAyB,CAACF,KAA1B,GACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE3B,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADE,GAIA,IAvCN,CAjFF,EA0HE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,IAAA,OAAO,EAAE,MAAM;AACb,UACG2B,KAAK,IAAIE,SAAS,KAAK,QAAxB,IACC,CAACF,KAAD,IAAUE,SAAS,KAAK,QAF3B,EAGE;AACAD,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACAE,QAAAA,YAAY,CAAC,QAAD,CAAZ;AACAvB,QAAAA,aAAa,CACX,CAAC,GAAGD,UAAJ,EAAgB+C,IAAhB,CAAqB,CAACC,CAAD,EAAIC,CAAJ,KACnBD,CAAC,CAACI,MAAF,GAAWH,CAAC,CAACG,MAAb,GAAsB,CAAC,CAAvB,GAA2B,CAD7B,CADW,CAAb;AAKD,OAXD,MAWO,IACJ,CAAC/B,KAAD,IAAUE,SAAS,KAAK,QAAzB,IACCF,KAAK,IAAIE,SAAS,KAAK,QAFnB,EAGL;AACAD,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACAE,QAAAA,YAAY,CAAC,QAAD,CAAZ;AACAvB,QAAAA,aAAa,CACX,CAAC,GAAGD,UAAJ,EAAgB+C,IAAhB,CAAqB,CAACC,CAAD,EAAIC,CAAJ,KACnBD,CAAC,CAACI,MAAF,GAAWH,CAAC,CAACG,MAAb,GAAsB,CAAtB,GAA0B,CAAC,CAD7B,CADW,CAAb;AAKD;AACF,KA1BH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EA+BG7B,SAAS,KAAK,QAAd,IAA0BF,KAAK,KAAK,IAApC,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE5B,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,GAIG8B,SAAS,KAAK,QAAd,IAA0B,CAACF,KAA3B,GACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE3B,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADE,GAIA,IAvCN,CA1HF,EAmKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CAnKF,EAsKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAtKF,CADF,CADF,EA6KE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGM,UAAU,CACRY,MADF,CAEIyC,QAAD,IACEA,QAAQ,CAACf,EAAT,CAAYgB,QAAZ,GAAuBC,QAAvB,CAAgC3C,MAAhC,KACAyC,QAAQ,CAACH,IAAT,CAAcK,QAAd,CAAuB3C,MAAvB,CADA,IAEAyC,QAAQ,CAACF,KAAT,CAAeI,QAAf,CAAwB3C,MAAxB,CALL,EAOE4C,GAPF,CAOM,CAACH,QAAD,EAAWI,KAAX,KAAqB;AACxB,WACE;AAAI,MAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiCJ,QAAQ,CAACf,EAA1C,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,SAAS,EAAC,iCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEtD,UAAvB;AAAmC,MAAA,KAAK,EAAC,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CAFF,EAaE;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiCqE,QAAQ,CAACH,IAA1C,CAbF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKG,QAAQ,CAACF,KAAd,CAdF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGE,QAAQ,CAACK,OAAT,GACC;AACE,MAAA,OAAO,EAAE,MAAM;AACbjB,QAAAA,YAAY,CAACY,QAAQ,CAACf,EAAV,EAAc,KAAd,CAAZ;AACD,OAHH;AAIE,MAAA,MAAM,EAAC,8BAJT;AAKE,MAAA,SAAS,EAAC,sCALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEhD,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADD,GAWC;AACE,MAAA,OAAO,EAAE,MAAM;AACbmD,QAAAA,YAAY,CAACY,QAAQ,CAACf,EAAV,EAAc,IAAd,CAAZ;AACD,OAHH,CAIE;AACA;AACA;AANF;AAOE,MAAA,SAAS,EAAC,+BAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASE,oBAAC,eAAD;AACE,MAAA,IAAI,EAAEhD,aADR;AAEE,MAAA,KAAK,EAAC,MAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CAZJ,CADF,CAfF,EA6CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAE,sBAAsB+D,QAAQ,CAACf,EADvC,CAEE;AAFF;AAGE,MAAA,SAAS,EAAC,8BAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAE/C,SAAvB;AAAkC,MAAA,KAAK,EAAC,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CADF,CA7CF,EAsDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,OAAO,EAAE,MAAM8C,YAAY,CAACgB,QAAQ,CAACf,EAAV,CAD7B,CAEE;AACA;AACA;AAJF;AAKE,MAAA,SAAS,EAAC,0CALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAE9C,OAAvB;AAAgC,MAAA,KAAK,EAAC,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF,CAtDF,CADF;AAoED,GA5EF,CADH,CA7KF,CADF,CA9CF,EA6SE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,6CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EACPkB,WAAW,GAAG,CAAd,GAAkB,kBAAlB,GAAuC,oBAF3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AACE,IAAA,OAAO,EAAE,MAAM;AACbC,MAAAA,cAAc,CAAC,CAAD,CAAd;AACD,KAHH;AAIE,IAAA,SAAS,EAAC,WAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALF,CADF,EAeE;AACE,IAAA,SAAS,EACPD,WAAW,GAAG,CAAd,GAAkB,kBAAlB,GAAuC,oBAF3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AACE,IAAA,OAAO,EAAE,MAAM;AACb,UAAIA,WAAW,GAAG,CAAlB,EAAqB;AACnBC,QAAAA,cAAc,CAACD,WAAW,GAAG,CAAf,CAAd;AACD;AACF,KALH;AAME,IAAA,SAAS,EAAC,WANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,CAfF,EA+BGiD,KAAK,CAAC5C,SAAD,CAAL,CACE6C,IADF,CACO,IADP,EAEEJ,GAFF,CAEM,CAACK,IAAD,EAAOJ,KAAP,KAAiB;AACpB,QAAIA,KAAK,GAAG,CAAR,IAAa/C,WAAjB,EAA8B;AAC5B,aACE;AAAK,QAAA,GAAG,EAAE+C,KAAV;AAAiB,QAAA,SAAS,EAAC,kBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,IAAI,EAAC,EAAR;AAAW,QAAA,SAAS,EAAC,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGA,KAAK,GAAG,CADX,CADF,CADF;AAOD,KARD,MAQO;AACL,aACE;AAAK,QAAA,GAAG,EAAEA,KAAV;AAAiB,QAAA,SAAS,EAAC,WAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,OAAO,EAAE,MAAM;AACb9C,UAAAA,cAAc,CAAC8C,KAAK,GAAG,CAAT,CAAd;AACD,SAHH;AAIE,QAAA,SAAS,EAAC,WAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMGA,KAAK,GAAG,CANX,CADF,CADF;AAYD;AACF,GAzBF,CA/BH,EAyDE;AACE,IAAA,SAAS,EACP/C,WAAW,GAAGK,SAAd,GACI,kBADJ,GAEI,oBAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AACE,IAAA,OAAO,EAAE,MAAM;AACb,UAAIL,WAAW,GAAGK,SAAlB,EAA6B;AAC3BJ,QAAAA,cAAc,CAACD,WAAW,GAAG,CAAf,CAAd;AACD;AACF,KALH;AAME,IAAA,SAAS,EAAC,WANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF,CAzDF,EA4EE;AACE,IAAA,SAAS,EACPA,WAAW,GAAGK,SAAd,GACI,kBADJ,GAEI,oBAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AACE,IAAA,OAAO,EAAE,MAAM;AACbJ,MAAAA,cAAc,CAACI,SAAD,CAAd;AACD,KAHH;AAIE,IAAA,SAAS,EAAC,WAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF,CA5EF,CADF,CA7SF,CADF;AA+YD,CA9dM","sourcesContent":["import { useState, useEffect } from \"react\";\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBowlFood } from \"@fortawesome/free-solid-svg-icons\";\nimport { useLocation } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport {\n  faCheckCircle,\n  faFilePen,\n  faXmark,\n  faSortAmountUp,\n  faSortAmountDown,\n  faFileCsv,\n  faFilePdf,\n  faFileExcel,\n} from \"@fortawesome/free-solid-svg-icons\";\nexport const Categories = () => {\n  const navigate = useNavigate();\n  const [categories, setCategories] = useState([]);\n  useEffect(() => {\n    updateCategories();\n    navigate(window.location.pathname, {});\n    onClickHandler();\n  }, []);\n\n  const { state } = useLocation();\n\n  const [image, setImage] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [filter, setFilter] = useState(\"\");\n  const categoryPerPage = 4;\n  const totalPage =\n    categories.length / categoryPerPage -\n      Math.floor(categories.length / categoryPerPage) ===\n    0\n      ? categories.length / categoryPerPage\n      : Math.floor(categories.length / categoryPerPage) + 1;\n  const [message, setMessage] = useState(\n    state && state.message ? state.message.message : \"\"\n  );\n  const [isAsc, setIsAsc] = useState(true);\n  const [sortField, setSortField] = useState(\"\");\n\n  //load data\n\n  const onClickHandler = async () => {\n    const result = await fetch(\"http://localhost:8082/category/loadImage/2\", {\n      mode: \"no-cors\", // 'cors' by default\n    });\n    const blob = await result.blob();\n    const url = URL.createObjectURL(blob);\n    setImage(url);\n    console.log(url);\n  };\n\n  //update data\n  const updateCategories = () => {\n    fetch(\"http://localhost:8082/ShoppingCartAdmin/category/getAll\")\n      .then((res) => res.json())\n      .then((result) => {\n        setCategories(result);\n      });\n  };\n\n  //delete category\n  const handleDelete = (id) => {\n    fetch(\"http://localhost:8082/ShoppingCartAdmin/category/delete/\" + id, {\n      method: \"GET\",\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        setMessage(result.message);\n      })\n      .then(updateCategories);\n  };\n  //enable/disable category\n  const handleEnable = (id, bool) => {\n    fetch(\n      \"http://localhost:8082/ShoppingCartAdmin/category/\" +\n        id +\n        \"/enabled/\" +\n        bool,\n      {\n        method: \"GET\",\n        headers: { \"Content-Type\": \"application/json\" },\n      }\n    )\n      .then((res) => res.json())\n      .then((result) => setMessage(result.message))\n      .then(() => {\n        updateCategories();\n      });\n  };\n\n  return (\n    <>\n      <img src={image ? image : null} alt=\"\" />\n      <div>\n        <h2 className=\"text-center\">Manage Categories - View All</h2>\n      </div>\n      {message !== \"\" ? (\n        <div className=\"alert alert-success text-center\">{message}</div>\n      ) : null}\n      <InputGroup>\n        <Form.Control\n          className=\"col-sm-2\"\n          placeholder=\"Search Key\"\n          aria-label=\"Recipient's username with two button addons\"\n          value={filter}\n          onChange={(e) => {\n            setFilter(e.target.value);\n          }}\n        />\n        <Button\n          variant=\"outline-secondary\"\n          className=\"bg-danger text-light\"\n          onClick={() => {\n            setFilter(\"\");\n          }}\n        >\n          Clear\n        </Button>\n      </InputGroup>\n      <a\n        href=\"http://localhost:8082/ShoppingCartAdmin/categories/export/csv\"\n        style={{ margin: \"0 5px 0 5px\" }}\n      >\n        <FontAwesomeIcon icon={faFileCsv} />\n      </a>\n      <a\n        href=\"http://localhost:8082/ShoppingCartAdmin/categories/export/pdf\"\n        style={{ margin: \"0 5px 0 5px\" }}\n      >\n        <FontAwesomeIcon icon={faFilePdf} />\n      </a>\n      <a\n        href=\"http://localhost:8082/ShoppingCartAdmin/categories/export/excel\"\n        style={{ margin: \"0 5px 0 5px\" }}\n      >\n        <FontAwesomeIcon icon={faFileExcel} />\n      </a>\n      <div className=\"full-details\">\n        <table className=\"table table-bordered table-striped table-hover table-reponsive-xl\">\n          <thead className=\"thead-dark\">\n            <tr>\n              <th className=\"hideable-column\">\n                <a\n                  className=\"text-white\"\n                  onClick={() => {\n                    if (\n                      (isAsc && sortField === \"id\") ||\n                      (!isAsc && sortField !== \"id\")\n                    ) {\n                      setIsAsc(false);\n                      setSortField(\"id\");\n                      setCategories(\n                        [...categories].sort((a, b) => (a.id > b.id ? -1 : 1))\n                      );\n                    } else if (\n                      (!isAsc && sortField === \"id\") ||\n                      (isAsc && sortField !== \"id\")\n                    ) {\n                      setIsAsc(true);\n                      setSortField(\"id\");\n                      setCategories(\n                        [...categories].sort((a, b) => (a.id > b.id ? 1 : -1))\n                      );\n                    }\n                  }}\n                >\n                  Category ID\n                </a>\n                {sortField === \"id\" && isAsc === true ? (\n                  <span>\n                    <FontAwesomeIcon icon={faSortAmountUp} />\n                  </span>\n                ) : sortField === \"id\" && !isAsc ? (\n                  <span>\n                    <FontAwesomeIcon icon={faSortAmountDown} />\n                  </span>\n                ) : null}\n              </th>\n              <th className=\"hideable-column\">Image</th>\n              <th>\n                <a\n                  className=\"text-white\"\n                  onClick={() => {\n                    if (\n                      (isAsc && sortField === \"name\") ||\n                      (!isAsc && sortField !== \"name\")\n                    ) {\n                      setIsAsc(false);\n                      setSortField(\"name\");\n                      setCategories(\n                        [...categories].sort((a, b) =>\n                          a.name > b.name ? -1 : 1\n                        )\n                      );\n                    } else if (\n                      (!isAsc && sortField === \"name\") ||\n                      (isAsc && sortField !== \"name\")\n                    ) {\n                      setIsAsc(true);\n                      setSortField(\"name\");\n                      setCategories(\n                        [...categories].sort((a, b) =>\n                          a.name > b.name ? 1 : -1\n                        )\n                      );\n                    }\n                  }}\n                >\n                  Category Name\n                </a>\n                {sortField === \"name\" && isAsc === true ? (\n                  <span>\n                    <FontAwesomeIcon icon={faSortAmountUp} />\n                  </span>\n                ) : sortField === \"name\" && !isAsc ? (\n                  <span>\n                    <FontAwesomeIcon icon={faSortAmountDown} />\n                  </span>\n                ) : null}\n              </th>\n\n              <th>\n                <a\n                  className=\"text-white\"\n                  onClick={() => {\n                    if (\n                      (isAsc && sortField === \"alias\") ||\n                      (!isAsc && sortField !== \"alias\")\n                    ) {\n                      setIsAsc(false);\n                      setSortField(\"alias\");\n                      setCategories(\n                        [...categories].sort((a, b) =>\n                          a.alias > b.alias ? -1 : 1\n                        )\n                      );\n                    } else if (\n                      (!isAsc && sortField === \"alias\") ||\n                      (isAsc && sortField !== \"alias\")\n                    ) {\n                      setIsAsc(true);\n                      setSortField(\"alias\");\n                      setCategories(\n                        [...categories].sort((a, b) =>\n                          a.alias > b.alias ? 1 : -1\n                        )\n                      );\n                    }\n                  }}\n                >\n                  Alias\n                </a>\n                {sortField === \"alias\" && isAsc === true ? (\n                  <span>\n                    <FontAwesomeIcon icon={faSortAmountUp} />\n                  </span>\n                ) : sortField === \"alias\" && !isAsc ? (\n                  <span>\n                    <FontAwesomeIcon icon={faSortAmountDown} />\n                  </span>\n                ) : null}\n              </th>\n              <th>\n                <a\n                  className=\"text-white\"\n                  onClick={() => {\n                    if (\n                      (isAsc && sortField === \"enable\") ||\n                      (!isAsc && sortField !== \"enable\")\n                    ) {\n                      setIsAsc(false);\n                      setSortField(\"enable\");\n                      setCategories(\n                        [...categories].sort((a, b) =>\n                          a.enable > b.enable ? -1 : 1\n                        )\n                      );\n                    } else if (\n                      (!isAsc && sortField === \"enable\") ||\n                      (isAsc && sortField !== \"enable\")\n                    ) {\n                      setIsAsc(true);\n                      setSortField(\"enable\");\n                      setCategories(\n                        [...categories].sort((a, b) =>\n                          a.enable > b.enable ? 1 : -1\n                        )\n                      );\n                    }\n                  }}\n                >\n                  Enable\n                </a>\n                {sortField === \"enable\" && isAsc === true ? (\n                  <span>\n                    <FontAwesomeIcon icon={faSortAmountUp} />\n                  </span>\n                ) : sortField === \"enable\" && !isAsc ? (\n                  <span>\n                    <FontAwesomeIcon icon={faSortAmountDown} />\n                  </span>\n                ) : null}\n              </th>\n              <th>\n                <span>Edit</span>\n              </th>\n              <th>\n                <span>Delete</span>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {categories\n              .filter(\n                (category) =>\n                  category.id.toString().includes(filter) ||\n                  category.name.includes(filter) ||\n                  category.alias.includes(filter)\n              )\n              .map((category, index) => {\n                return (\n                  <tr key={index}>\n                    <td className=\"hideable-column\">{category.id}</td>\n                    <td>\n                      <span className=\"fa fa-portait fa-3x icon-silver\">\n                        <FontAwesomeIcon icon={faBowlFood} color=\"grey\" />\n                      </span>\n                      {/* <img\n                    th:if=\"${category.photos !== null}\"\n                    th:src=\"@{${category.photosImagePath}}\"\n                    alt=\"\"\n                    style=\"width: 100px;\"\n                  /> */}\n                    </td>\n                    <td className=\"hideable-column\">{category.name}</td>\n                    <td>{category.alias}</td>\n                    <td>\n                      <div>\n                        {category.enabled ? (\n                          <span\n                            onClick={() => {\n                              handleEnable(category.id, false);\n                            }}\n                            tittle=\"'Disable this ' + 'category'\"\n                            className=\"fas fa-check-circle fa-2x icon-green\"\n                          >\n                            <FontAwesomeIcon icon={faCheckCircle} />\n                          </span>\n                        ) : (\n                          <span\n                            onClick={() => {\n                              handleEnable(category.id, true);\n                            }}\n                            //   th:if=\"${category.enabled === false}\"\n                            //   th:href=\"@{'/categorys/' + ${category.id} + '/enabled/true'}\"\n                            //   th:tittle=\"'Enabled this ' + 'category'\"\n                            className=\"fas fa-circle fa-2x icon-dark\"\n                          >\n                            <FontAwesomeIcon\n                              icon={faCheckCircle}\n                              color=\"grey\"\n                            />\n                          </span>\n                        )}\n                      </div>\n                    </td>\n                    <td>\n                      <a\n                        href={\"/category/update/\" + category.id}\n                        // th:tittle=\"'Edit this' + 'category'\"\n                        className=\"fas fa-edit fa-2x icon-green\"\n                      >\n                        <FontAwesomeIcon icon={faFilePen} color=\"grey\" />\n                      </a>\n                    </td>\n                    <td>\n                      <span\n                        onClick={() => handleDelete(category.id)}\n                        // th:href=\"@{'/category/delete/' + ${category.id}}\"\n                        // th:entityId=\"${category.id}\"\n                        // th:tittle=\"'Delete this' + 'category'\"\n                        className=\"fas fa-trash fa-2x icon-dark link-delete\"\n                      >\n                        <FontAwesomeIcon icon={faXmark} color=\"grey\" />\n                      </span>\n                    </td>\n                  </tr>\n                );\n              })}\n          </tbody>\n        </table>\n      </div>\n      <nav>\n        <ul className=\"pagination justify-content-center flex-wrap\">\n          <li\n            className={\n              currentPage > 1 ? \"page-item active\" : \"page-item disabled\"\n            }\n          >\n            <button\n              onClick={() => {\n                setCurrentPage(1);\n              }}\n              className=\"page-link\"\n            >\n              First\n            </button>\n          </li>\n          <li\n            className={\n              currentPage > 1 ? \"page-item active\" : \"page-item disabled\"\n            }\n          >\n            <button\n              onClick={() => {\n                if (currentPage > 1) {\n                  setCurrentPage(currentPage - 1);\n                }\n              }}\n              className=\"page-link\"\n            >\n              Previous\n            </button>\n          </li>\n          {Array(totalPage)\n            .fill(null)\n            .map((item, index) => {\n              if (index + 1 == currentPage) {\n                return (\n                  <div key={index} className=\"page-item active\">\n                    <a href=\"\" className=\"page-link\">\n                      {index + 1}\n                    </a>\n                  </div>\n                );\n              } else {\n                return (\n                  <div key={index} className=\"page-item\">\n                    <button\n                      onClick={() => {\n                        setCurrentPage(index + 1);\n                      }}\n                      className=\"page-link\"\n                    >\n                      {index + 1}\n                    </button>\n                  </div>\n                );\n              }\n            })}\n          <li\n            className={\n              currentPage < totalPage\n                ? \"page-item active\"\n                : \"page-item disabled\"\n            }\n          >\n            <button\n              onClick={() => {\n                if (currentPage < totalPage) {\n                  setCurrentPage(currentPage + 1);\n                }\n              }}\n              className=\"page-link\"\n            >\n              Next\n            </button>\n          </li>\n\n          <li\n            className={\n              currentPage < totalPage\n                ? \"page-item active\"\n                : \"page-item disabled\"\n            }\n          >\n            <button\n              onClick={() => {\n                setCurrentPage(totalPage);\n              }}\n              className=\"page-link\"\n            >\n              Last\n            </button>\n          </li>\n        </ul>\n      </nav>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}